<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../favicon.ico">

  <title>实验</title>

  <!-- Bootstrap core CSS -->
  <link href="../../../lib/css/bootstrap.min.css" rel="stylesheet">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body role="document">

  <div class="container theme-showcase" role="main">

    </br>
    <div class="progress">
      <div class="progress-bar" role="progressbar" aria-valuenow="5" aria-valuemin="0" aria-valuemax="100" style="width: 5%;"><span class="sr-only">进度5%</span></div>
    </div>

    <div class="page-header">
      <h1>规定</h1>
    </div>

    <div class="well" style="width:800px; margin: 0 auto">
      <p>
        <center><img src="images/chineseInstructions.png" alt="Example objects" style="width:100%"></center>
      </p>
    </div>

    <div class="page-header">
      <h3>理解考核</h3>
    </div>

    <div class="well" style="width:800px; margin: 0 auto">

      </br>
      演说者能按个颜色来结束一轮。
      </br>
      <input type="radio" name="dgoal" value="no"> 对
      </br>
      <input type="radio" name="dgoal" value="yes"> 错
      </br>


      </br>
      倾听者要选出演说者描述的颜色。
      </br>
      <input type="radio" name="mgoal" value="yes"> 对
      </br>
      <input type="radio" name="mgoal" value="no"> 错
      </br>

      </br>
      玩家可以用中文以外的语言进行沟通。
      </br>
      <input type="radio" name="other-lang" value="no"> 对
      </br>
      <input type="radio" name="other-lang" value="yes"> 错
      </br>

      </br>
      目标颜色会带着黑框。
      </br>
      <input type="radio" name="round" value="yes"> 对
      </br>
      <input type="radio" name="round" value="no"> 错
      </br>

      </br>
      只有演说者能送讯息。
      </br>
      <input type="radio" name="message" value="no"> 对
      </br>
      <input type="radio" name="message" value="yes"> 错
      </br>

      </br>
      总共有两百轮。
      </br>
      <input type="radio" name="comp" value="no"> 对
      </br>
      <input type="radio" name="comp" value="yes"> 错
      </br>

      </br>
      演说者和倾听者会看到同样的颜色排列。
      </br>
      <input type="radio" name="location" value="no"> 对
      </br>
      <input type="radio" name="location" value="yes"> 错
      </br>

      </br>
      <input id="quiz_submit" type="submit" value="提交">
      </br>
      </br>
      <div class="error" style="display:none"> 哎呀！ 你选了错的答案。你还有一个机会。</div>
    </div>
    <!-- /container -->
  </div>
  <script type="text/javascript">
    $('html,body').scrollTop(0);
    var urlParams;
    var match,
      pl = /\+/g,  // Regex for replacing addition symbol with a space
      search = /([^&=]+)=?([^&]*)/g,
      decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
      query = location.search.substring(1);

    urlParams = {};
    while (match = search.exec(query))
      urlParams[decode(match[1])] = decode(match[2]);

    console.log(urlParams)

    var counter = 0;
    document.getElementById("quiz_submit").onclick = function () {
      var ans1 = $('input[name="dgoal"]:checked').val();
      var ans2 = $('input[name="mgoal"]:checked').val();
      var ans3 = $('input[name="other-lang"]:checked').val();
      var ans4 = $('input[name="round"]:checked').val();
      var ans5 = $('input[name="message"]:checked').val();
      var ans6 = $('input[name="comp"]:checked').val();
      var ans7 = $('input[name="location"]:checked').val();

      if (ans1 == "yes" && ans2 == "yes" && ans3 == "yes" &&
        ans4 == "yes" && ans5 == "yes" && ans6 == "yes" && ans7 == "yes") {
        var workerId = urlParams.workerId;
        var assignmentId = urlParams.assignmentId;
        var hitId = urlParams.hitId;
        var turkSubmitTo = urlParams.turkSubmitTo;
        location.replace("/colors/chineseColorRef/forms/pass.html?workerId=" + workerId
          + "&assignmentId=" + assignmentId
          + "&hitId=" + hitId + "&turkSubmitTo=" + turkSubmitTo);
      } else if (counter == 3) {
        location.replace("/colors/chineseColorRef/forms/fail.html");
      } else {
        $('.error').show()
        counter += 1;
      }
    };
  </script>

  <script src="./validate-form.js"></script>

  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../../lib/js/bootstrap.min.js"></script>
</body>

</html>